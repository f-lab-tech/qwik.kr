import{i as e,u as t}from"./q-c0df5510.js";const l=[{text:"useResource$()",id:"useresource",level:1},{text:"<Resource>",id:"resource",level:2},{text:"Example using useResource$() with <Resource>",id:"example-using-useresource-with-resource",level:3},{text:"Example without <Resource>",id:"example-without-resource",level:3}],o={title:"Resources",meta:[],styles:[],links:[]},i={title:"Resources"};function s(a){const n=Object.assign({h1:"h1",a:"a",span:"span",p:"p",code:"code",pre:"pre",ul:"ul",li:"li",h2:"h2",h3:"h3",blockquote:"blockquote",strong:"strong"},a.components);return e(t,{children:[e(n.h1,{id:"useresource",children:[e(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#useresource",children:e(n.span,{className:"icon icon-link"})}),"useResource$()"]}),`
`,e(n.p,{children:"This method allows you to generate computed values asynchronously. The asynchronous function passed as its first argument will be called when the component is mounted and when the tracked values change."}),`
`,e(n.p,{children:["Just like all the ",e(n.code,{children:"use-"})," methods, it must be called within the context of ",e(n.code,{children:"component$()"}),", and all the hook rules apply."]}),`
`,e(n.pre,{children:e(n.code,{className:"language-tsx",children:[e(n.span,{className:"token keyword",children:"const"})," store ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"useStore"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"{"}),`
  bar`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token string",children:"'foo'"}),`
`,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),`
`,e(n.span,{className:"token keyword",children:"const"})," resource ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"useResource$"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token keyword",children:"async"})," ",e(n.span,{className:"token punctuation",children:"("}),"ctx",e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
  ctx`,e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"track"}),e(n.span,{className:"token punctuation",children:"("}),"store",e(n.span,{className:"token punctuation",children:","})," ",e(n.span,{className:"token string",children:"'bar'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"})," ",e(n.span,{className:"token comment",children:"// the resource will rerun when store.bar changes."}),`
  ctx`,e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"track"}),e(n.span,{className:"token punctuation",children:"("}),"props",e(n.span,{className:"token punctuation",children:","})," ",e(n.span,{className:"token string",children:"'url'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"})," ",e(n.span,{className:"token comment",children:"// track() can be called multiple times, to track multiple values"}),`
  ctx`,e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"cleanup"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
    `,e(n.span,{className:"token comment",children:"// In case the resource need to be cleaned up, this function will be called."}),`
    `,e(n.span,{className:"token comment",children:"// Allowing to clean resources like timers, subscriptions, fetch requests, etc."}),`
  `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`

  `,e(n.span,{className:"token comment",children:"// cleanup() can also be called multiple times."}),`
  ctx`,e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"cleanup"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token builtin",children:"console"}),e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"log"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token string",children:"'cleanup'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`

  `,e(n.span,{className:"token comment",children:"// Resources can contain async computations"}),`
  `,e(n.span,{className:"token keyword",children:"const"})," value ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token keyword",children:"await"})," ",e(n.span,{className:"token function",children:"expensiveCompute"}),e(n.span,{className:"token punctuation",children:"("}),"store",e(n.span,{className:"token punctuation",children:"."}),"bar",e(n.span,{className:"token punctuation",children:","})," props",e(n.span,{className:"token punctuation",children:"."}),"url",e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
  `,e(n.span,{className:"token keyword",children:"return"})," value",e(n.span,{className:"token punctuation",children:";"}),`
`,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,e(n.p,{children:["As we see in the example above, ",e(n.code,{children:"useResouce$()"})," returns a ",e(n.code,{children:"ResourceReturn<T>"})," object that works like a glorified, fully reactive promise, containing the data and the resource state."]}),`
`,e(n.p,{children:["The state ",e(n.code,{children:"resource.state"})," can be one of the following strings:"]}),`
`,e(n.ul,{children:[`
`,e(n.li,{children:[e(n.code,{children:"'pending'"})," - the data is not yet available."]}),`
`,e(n.li,{children:[e(n.code,{children:"'resolved'"})," - the data is available."]}),`
`,e(n.li,{children:[e(n.code,{children:"'rejected'"})," - the data is not available due to an error or timeout."]}),`
`]}),`
`,e(n.p,{children:["The callback passed to ",e(n.code,{children:"useResource$()"})," runs right after the ",e(n.code,{children:"useMount$()"})," and ",e(n.code,{children:"useWatch$()"})," callbacks complete. Please refer to the ",e(n.a,{href:"/docs/components/lifecycle/",children:"Lifecycle"})," section for more details."]}),`
`,e(n.h2,{id:"resource",children:[e(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#resource",children:e(n.span,{className:"icon icon-link"})}),e(n.code,{children:"<Resource>"})]}),`
`,e(n.p,{children:[e(n.code,{children:"<Resource>"})," is a component that renders its children when the resource is resolved, and renders a fallback when the resource is pending or rejected."]}),`
`,e(n.pre,{children:e(n.code,{className:"language-tsx",children:["  ",e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),e(n.span,{className:"token class-name",children:"Resource"})]}),`
    `,e(n.span,{className:"token attr-name",children:"value"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),"weatherResource",e(n.span,{className:"token punctuation",children:"}"})]}),`
    `,e(n.span,{className:"token attr-name",children:"onPending"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:"Loading..."}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token punctuation",children:"}"})]}),`
    `,e(n.span,{className:"token attr-name",children:"onRejected"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:"Failed to load weather"}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token punctuation",children:"}"})]}),`
    `,e(n.span,{className:"token attr-name",children:"onResolved"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),e(n.span,{className:"token punctuation",children:"("}),"weather",e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
      `,e(n.span,{className:"token keyword",children:"return"})," ",e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:"Temperature: "}),e(n.span,{className:"token punctuation",children:"{"}),"weather",e(n.span,{className:"token punctuation",children:"."}),"temp",e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:"}"})]}),`
  `,e(n.span,{className:"token punctuation",children:"/>"})]}),`
`]})}),`
`,e(n.p,{children:["Notice that ",e(n.code,{children:"<Resource>"})," is not necessary to use ",e(n.code,{children:"useResource$()"}),". It is just a convenient way to render the resource state."]}),`
`,e(n.h3,{id:"example-using-useresource-with-resource",children:[e(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#example-using-useresource-with-resource",children:e(n.span,{className:"icon icon-link"})}),"Example using ",e(n.code,{children:"useResource$()"})," with ",e(n.code,{children:"<Resource>"})]}),`
`,e(n.p,{children:["Example showing how ",e(n.code,{children:"useResource"})," is used to perform a fetch call to request the weather whenever the input city name changes."]}),`
`,e(n.pre,{children:e(n.code,{className:"language-tsx",children:[e(n.span,{className:"token keyword",children:"export"})," ",e(n.span,{className:"token keyword",children:"const"})," Cmp ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"component$"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
  `,e(n.span,{className:"token keyword",children:"const"})," store ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"useStore"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"{"}),`
    city`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token string",children:"''"}),e(n.span,{className:"token punctuation",children:","}),`
  `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`

  `,e(n.span,{className:"token keyword",children:"const"})," weatherResource ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token generic-function",children:[e(n.span,{className:"token function",children:"useResource$"}),e(n.span,{className:"token generic class-name",children:[e(n.span,{className:"token operator",children:"<"}),e(n.span,{className:"token builtin",children:"any"}),e(n.span,{className:"token operator",children:">"})]})]}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token keyword",children:"async"})," ",e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"{"})," track",e(n.span,{className:"token punctuation",children:","})," cleanup ",e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," cityName ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"track"}),e(n.span,{className:"token punctuation",children:"("}),"store",e(n.span,{className:"token punctuation",children:","})," ",e(n.span,{className:"token string",children:"'city'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," abortController ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token keyword",children:"new"})," ",e(n.span,{className:"token class-name",children:"AbortController"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token function",children:"cleanup"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," abortController",e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"abort"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token string",children:"'cleanup'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," res ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token keyword",children:"await"})," ",e(n.span,{className:"token function",children:"fetch"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token template-string",children:[e(n.span,{className:"token template-punctuation string",children:"`"}),e(n.span,{className:"token string",children:"http://weatherdata.com?city="}),e(n.span,{className:"token interpolation",children:[e(n.span,{className:"token interpolation-punctuation punctuation",children:"${"}),"cityName",e(n.span,{className:"token interpolation-punctuation punctuation",children:"}"})]}),e(n.span,{className:"token template-punctuation string",children:"`"})]}),e(n.span,{className:"token punctuation",children:","})," ",e(n.span,{className:"token punctuation",children:"{"}),`
      signal`,e(n.span,{className:"token operator",children:":"})," abortController",e(n.span,{className:"token punctuation",children:"."}),"signal",e(n.span,{className:"token punctuation",children:","}),`
    `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," data ",e(n.span,{className:"token operator",children:"="})," res",e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"json"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"return"})," data",e(n.span,{className:"token punctuation",children:";"}),`
  `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`

  `,e(n.span,{className:"token keyword",children:"return"})," ",e(n.span,{className:"token punctuation",children:"("}),`
    `,e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:`
      `}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"input"]})," ",e(n.span,{className:"token attr-name",children:"name"}),e(n.span,{className:"token attr-value",children:[e(n.span,{className:"token punctuation attr-equals",children:"="}),e(n.span,{className:"token punctuation",children:'"'}),"city",e(n.span,{className:"token punctuation",children:'"'})]})," ",e(n.span,{className:"token attr-name",children:"onInput$"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),e(n.span,{className:"token punctuation",children:"("}),"ev",e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token builtin",children:"any"}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"("}),"store",e(n.span,{className:"token punctuation",children:"."}),"city ",e(n.span,{className:"token operator",children:"="})," ev",e(n.span,{className:"token punctuation",children:"."}),"target",e(n.span,{className:"token punctuation",children:"."}),"value",e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:"}"})]})," ",e(n.span,{className:"token punctuation",children:"/>"})]}),e(n.span,{className:"token plain-text",children:`
      `}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),e(n.span,{className:"token class-name",children:"Resource"})]}),`
        `,e(n.span,{className:"token attr-name",children:"value"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),"weatherResource",e(n.span,{className:"token punctuation",children:"}"})]}),`
        `,e(n.span,{className:"token attr-name",children:"onPending"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:"Loading..."}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token punctuation",children:"}"})]}),`
        `,e(n.span,{className:"token attr-name",children:"onResolved"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),e(n.span,{className:"token punctuation",children:"("}),"weather",e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
          `,e(n.span,{className:"token keyword",children:"return"})," ",e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:"Temperature: "}),e(n.span,{className:"token punctuation",children:"{"}),"weather",e(n.span,{className:"token punctuation",children:"."}),"temp",e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token punctuation",children:";"}),`
        `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:"}"})]}),`
      `,e(n.span,{className:"token punctuation",children:"/>"})]}),e(n.span,{className:"token plain-text",children:`
    `}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),`
  `,e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
`,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,e(n.h3,{id:"example-without-resource",children:[e(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#example-without-resource",children:e(n.span,{className:"icon icon-link"})}),"Example without ",e(n.code,{children:"<Resource>"})]}),`
`,e(n.pre,{children:e(n.code,{className:"language-tsx",children:[e(n.span,{className:"token keyword",children:"export"})," ",e(n.span,{className:"token keyword",children:"const"})," Cmp ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"component$"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
  `,e(n.span,{className:"token keyword",children:"const"})," store ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"useStore"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"{"}),`
    city`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token string",children:"''"}),e(n.span,{className:"token punctuation",children:","}),`
  `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`

  `,e(n.span,{className:"token keyword",children:"const"})," weatherResource ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token generic-function",children:[e(n.span,{className:"token function",children:"useResource$"}),e(n.span,{className:"token generic class-name",children:[e(n.span,{className:"token operator",children:"<"}),e(n.span,{className:"token builtin",children:"any"}),e(n.span,{className:"token operator",children:">"})]})]}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token keyword",children:"async"})," ",e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"{"})," track",e(n.span,{className:"token punctuation",children:","})," cleanup ",e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," cityName ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token function",children:"track"}),e(n.span,{className:"token punctuation",children:"("}),"store",e(n.span,{className:"token punctuation",children:","})," ",e(n.span,{className:"token string",children:"'city'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," abortController ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token keyword",children:"new"})," ",e(n.span,{className:"token class-name",children:"AbortController"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token function",children:"cleanup"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," abortController",e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"abort"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token string",children:"'cleanup'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," res ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token keyword",children:"await"})," ",e(n.span,{className:"token function",children:"fetch"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token template-string",children:[e(n.span,{className:"token template-punctuation string",children:"`"}),e(n.span,{className:"token string",children:"http://weatherdata.com?city="}),e(n.span,{className:"token interpolation",children:[e(n.span,{className:"token interpolation-punctuation punctuation",children:"${"}),"cityName",e(n.span,{className:"token interpolation-punctuation punctuation",children:"}"})]}),e(n.span,{className:"token template-punctuation string",children:"`"})]}),e(n.span,{className:"token punctuation",children:","})," ",e(n.span,{className:"token punctuation",children:"{"}),`
      signal`,e(n.span,{className:"token operator",children:":"})," abortController",e(n.span,{className:"token punctuation",children:"."}),"signal",e(n.span,{className:"token punctuation",children:","}),`
    `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"const"})," data ",e(n.span,{className:"token operator",children:"="})," res",e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"json"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
    `,e(n.span,{className:"token keyword",children:"return"})," data",e(n.span,{className:"token punctuation",children:";"}),`
  `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`

  `,e(n.span,{className:"token keyword",children:"return"})," ",e(n.span,{className:"token punctuation",children:"("}),`
    `,e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:`
      `}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"input"]})," ",e(n.span,{className:"token attr-name",children:"name"}),e(n.span,{className:"token attr-value",children:[e(n.span,{className:"token punctuation attr-equals",children:"="}),e(n.span,{className:"token punctuation",children:'"'}),"city",e(n.span,{className:"token punctuation",children:'"'})]})," ",e(n.span,{className:"token attr-name",children:"onInput$"}),e(n.span,{className:"token script language-javascript",children:[e(n.span,{className:"token script-punctuation punctuation",children:"="}),e(n.span,{className:"token punctuation",children:"{"}),e(n.span,{className:"token punctuation",children:"("}),"ev",e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token builtin",children:"any"}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"("}),"store",e(n.span,{className:"token punctuation",children:"."}),"city ",e(n.span,{className:"token operator",children:"="})," ev",e(n.span,{className:"token punctuation",children:"."}),"target",e(n.span,{className:"token punctuation",children:"."}),"value",e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:"}"})]})," ",e(n.span,{className:"token punctuation",children:"/>"})]}),e(n.span,{className:"token plain-text",children:`
      `}),e(n.span,{className:"token punctuation",children:"{"}),"weatherResource",e(n.span,{className:"token punctuation",children:"."}),"state ",e(n.span,{className:"token operator",children:"==="})," ",e(n.span,{className:"token string",children:"'pending'"})," ",e(n.span,{className:"token operator",children:"&&"})," ",e(n.span,{className:"token punctuation",children:"("}),`
        `,e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:"Loading..."}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),`
      `,e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token plain-text",children:`
      `}),e(n.span,{className:"token punctuation",children:"{"}),"weatherResource",e(n.span,{className:"token punctuation",children:"."}),"state ",e(n.span,{className:"token operator",children:"==="})," ",e(n.span,{className:"token string",children:"'resolved'"})," ",e(n.span,{className:"token operator",children:"&&"})," ",e(n.span,{className:"token punctuation",children:"("}),`
        `,e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"<"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),e(n.span,{className:"token plain-text",children:"Temperature: "}),e(n.span,{className:"token punctuation",children:"{"}),"weatherResource",e(n.span,{className:"token punctuation",children:"."}),"resolved",e(n.span,{className:"token punctuation",children:"."}),"temp",e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),`
      `,e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token plain-text",children:`
    `}),e(n.span,{className:"token tag",children:[e(n.span,{className:"token tag",children:[e(n.span,{className:"token punctuation",children:"</"}),"div"]}),e(n.span,{className:"token punctuation",children:">"})]}),`
  `,e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
`,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,e(n.blockquote,{children:[`
`,e(n.p,{children:[e(n.strong,{children:"NOTE"}),`
We strongly recommend to use `,e(n.code,{children:"<Resource/>"})," whenever possible, since this component will more efficiently avoid rerenders and it is also optimized for SSR."]}),`
`]})]})}function r(a={}){const{wrapper:n}=a.components||{};return n?e(n,Object.assign({},a,{children:e(s,a)})):s(a)}export{r as default,i as frontmatter,o as head,l as headings};
