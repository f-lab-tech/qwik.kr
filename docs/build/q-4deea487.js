import{i as n,u as a}from"./q-c0df5510.js";const c=[{text:"Static Site Generation Config",id:"static-site-generation-config",level:1},{text:"SSG Config",id:"ssg-config",level:2},{text:"origin",id:"origin",level:3},{text:"outDir",id:"outdir",level:3},{text:"Javascript Runtimes",id:"javascript-runtimes",level:2}],o={title:"Static Site Generation Config",meta:[],styles:[],links:[]},r={title:"Static Site Generation Config"};function t(i){const e=Object.assign({h1:"h1",a:"a",span:"span",p:"p",code:"code",pre:"pre",h2:"h2",h3:"h3",em:"em"},i.components);return n(a,{children:[n(e.h1,{id:"static-site-generation-config",children:[n(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#static-site-generation-config",children:n(e.span,{className:"icon icon-link"})}),"Static Site Generation Config"]}),`
`,n(e.p,{children:["Below is an example of a ",n(e.code,{children:"src/entry.static.tsx"})," file, which is the initial file used for a Static Site Generation (SSG) build. Just like a server's entry file for SSR, such as ",n(e.code,{children:"src/entry.server.tsx"}),", it should import your app's ",n(e.code,{children:"render"})," function from ",n(e.code,{children:"./entry.ssr"}),"."]}),`
`,n(e.pre,{children:n(e.code,{className:"language-typescript",children:[n(e.span,{className:"token comment",children:"// file: src/entry.static.tsx"}),`
`,n(e.span,{className:"token keyword",children:"import"})," ",n(e.span,{className:"token punctuation",children:"{"})," qwikCityGenerate ",n(e.span,{className:"token punctuation",children:"}"})," ",n(e.span,{className:"token keyword",children:"from"})," ",n(e.span,{className:"token string",children:"'@builder.io/qwik-city/static/node'"}),n(e.span,{className:"token punctuation",children:";"}),`
`,n(e.span,{className:"token keyword",children:"import"})," render ",n(e.span,{className:"token keyword",children:"from"})," ",n(e.span,{className:"token string",children:"'./entry.ssr'"}),n(e.span,{className:"token punctuation",children:";"}),`
`,n(e.span,{className:"token keyword",children:"import"})," ",n(e.span,{className:"token punctuation",children:"{"})," fileURLToPath ",n(e.span,{className:"token punctuation",children:"}"})," ",n(e.span,{className:"token keyword",children:"from"})," ",n(e.span,{className:"token string",children:"'url'"}),n(e.span,{className:"token punctuation",children:";"}),`
`,n(e.span,{className:"token keyword",children:"import"})," ",n(e.span,{className:"token punctuation",children:"{"})," join ",n(e.span,{className:"token punctuation",children:"}"})," ",n(e.span,{className:"token keyword",children:"from"})," ",n(e.span,{className:"token string",children:"'path'"}),n(e.span,{className:"token punctuation",children:";"}),`

`,n(e.span,{className:"token function",children:"qwikCityGenerate"}),n(e.span,{className:"token punctuation",children:"("}),"render",n(e.span,{className:"token punctuation",children:","})," ",n(e.span,{className:"token punctuation",children:"{"}),`
  origin`,n(e.span,{className:"token operator",children:":"})," ",n(e.span,{className:"token string",children:"'https://qwik.builder.io'"}),n(e.span,{className:"token punctuation",children:","}),`
  outDir`,n(e.span,{className:"token operator",children:":"})," ",n(e.span,{className:"token function",children:"join"}),n(e.span,{className:"token punctuation",children:"("}),n(e.span,{className:"token function",children:"fileURLToPath"}),n(e.span,{className:"token punctuation",children:"("}),n(e.span,{className:"token keyword",children:"import"}),n(e.span,{className:"token punctuation",children:"."}),"meta",n(e.span,{className:"token punctuation",children:"."}),"url",n(e.span,{className:"token punctuation",children:")"}),n(e.span,{className:"token punctuation",children:","})," ",n(e.span,{className:"token string",children:"'..'"}),n(e.span,{className:"token punctuation",children:","})," ",n(e.span,{className:"token string",children:"'..'"}),n(e.span,{className:"token punctuation",children:","})," ",n(e.span,{className:"token string",children:"'dist'"}),n(e.span,{className:"token punctuation",children:")"}),n(e.span,{className:"token punctuation",children:","}),`
`,n(e.span,{className:"token punctuation",children:"}"}),n(e.span,{className:"token punctuation",children:")"}),n(e.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,n(e.p,{children:["You then can add the ",n(e.code,{children:"build.ssg"})," script to ",n(e.code,{children:"package.json"})," for building the generator code and add it to the ",n(e.code,{children:"build"})," script to have it ready after each build:"]}),`
`,n(e.pre,{children:n(e.code,{className:"language-json",children:["  ",n(e.span,{className:"token property",children:'"build"'}),n(e.span,{className:"token operator",children:":"})," ",n(e.span,{className:"token string",children:'"npm run typecheck && npm run build.client && npm run build.ssr && npm run build.ssg"'}),n(e.span,{className:"token punctuation",children:","}),`
  `,n(e.span,{className:"token property",children:'"build.ssg"'}),n(e.span,{className:"token operator",children:":"})," ",n(e.span,{className:"token string",children:'"vite build --ssr src/entry.static.tsx"'}),n(e.span,{className:"token punctuation",children:","}),`
`]})}),`
`,n(e.p,{children:"In node you can run the generation after building using:"}),`
`,n(e.pre,{children:n(e.code,{className:"language-bash",children:[n(e.span,{className:"token function",children:"node"}),` server/entry.static.js
`]})}),`
`,n(e.p,{children:["Your build files will be generated into the ",n(e.code,{children:"dist"})," folder, as configured in ",n(e.code,{children:"src/entry.static.tsx"}),"."]}),`
`,n(e.h2,{id:"ssg-config",children:[n(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#ssg-config",children:n(e.span,{className:"icon icon-link"})}),"SSG Config"]}),`
`,n(e.p,{children:["The ",n(e.code,{children:"src/entry.static.tsx"})," file also includes the SSG config, which would be custom for each implementation."]}),`
`,n(e.h3,{id:"origin",children:[n(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#origin",children:n(e.span,{className:"icon icon-link"})}),n(e.code,{children:"origin"})]}),`
`,n(e.p,{children:["The URL ",n(e.code,{children:"origin"}),`, which is a combination of the scheme (protocol) and hostname (domain).
For example, `,n(e.code,{children:"https://qwik.builder.io"})," has the protocol ",n(e.code,{children:"https://"})," and domain ",n(e.code,{children:"qwik.builder.io"}),`.
However, the `,n(e.code,{children:"origin"})," does ",n(e.em,{children:"not"})," include a ",n(e.code,{children:"pathname"}),"."]}),`
`,n(e.p,{children:["The ",n(e.code,{children:"origin"}),` is used to provide a full URL during Static Site Generation (SSG), and to
simulate a complete URL rather than just the `,n(e.code,{children:"pathname"}),`. For example, in order to
render a correct canonical tag URL or URLs within the `,n(e.code,{children:"sitemap.xml"}),", the ",n(e.code,{children:"origin"}),` must
be provided too.`]}),`
`,n(e.p,{children:["If the site also starts with a pathname other than ",n(e.code,{children:"/"}),", please use the ",n(e.code,{children:"basePathname"}),`
option in the Qwik City config options.`]}),`
`,n(e.h3,{id:"outdir",children:[n(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#outdir",children:n(e.span,{className:"icon icon-link"})}),n(e.code,{children:"outDir"})]}),`
`,n(e.p,{children:["The ",n(e.code,{children:"outDir"})," is a file system output directory where the static files should be written. In the example above, it's using Node's ",n(e.a,{href:"https://nodejs.org/api/url.html#urlfileurltopathurl",children:"fileURLToPath"})," to create an absolute file system path to write the static HTML files to."]}),`
`,n(e.h2,{id:"javascript-runtimes",children:[n(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#javascript-runtimes",children:n(e.span,{className:"icon icon-link"})}),"Javascript Runtimes"]}),`
`,n(e.p,{children:["For a Javascript project, it's quite common for the build's runtime to be built on top of ",n(e.a,{href:"https://nodejs.org/en/docs/",children:"Node.js"}),". However, the core of Qwik City static site generation isn't tied to using only Node.js, which is why the ",n(e.code,{children:"qwikCityGenerate()"})," function is imported from ",n(e.code,{children:"@builder.io/qwik-city/static/node"}),". By scoping the generate function to a specific runtime, such as Node.js, this gives Qwik City the flexibility to also generate SSG from other runtimes in the future, such as ",n(e.a,{href:"https://deno.land/",children:"Deno"})," or ",n(e.a,{href:"https://bun.sh/",children:"Bun"}),"."]})]})}function l(i={}){const{wrapper:e}=i.components||{};return e?n(e,Object.assign({},i,{children:n(t,i)})):t(i)}export{l as default,r as frontmatter,o as head,c as headings};
