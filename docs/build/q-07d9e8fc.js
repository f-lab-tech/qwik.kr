import{i as e,u as t}from"./q-c0df5510.js";const o=[{text:"Modify Data",id:"modify-data",level:1}],i={title:"Qwik City - Modify Data",meta:[],styles:[],links:[]},l={title:"Qwik City - Modify Data"};function s(a){const n=Object.assign({h1:"h1",a:"a",span:"span",p:"p",code:"code",pre:"pre"},a.components);return e(t,{children:[e(n.h1,{id:"modify-data",children:[e(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#modify-data",children:e(n.span,{className:"icon icon-link"})}),"Modify Data"]}),`
`,e(n.p,{children:["Endpoints can define a way to fetch data and they can also define HTTP verbs to modify data. These are ",e(n.code,{children:"GET"}),", ",e(n.code,{children:"POST"}),", ",e(n.code,{children:"PUT"}),", ",e(n.code,{children:"PATCH"}),", ",e(n.code,{children:"DELETE"}),". We have already discussed the ",e(n.code,{children:"GET"})," verb in the previous section. Each of these verbs has a corresponding ",e(n.code,{children:"on___"})," method such as ",e(n.code,{children:"onGet"}),", ",e(n.code,{children:"onPost"}),", ",e(n.code,{children:"onPut"}),", ",e(n.code,{children:"onPatch"}),", and ",e(n.code,{children:"onDelete"}),"."]}),`
`,e(n.pre,{children:e(n.code,{className:"language-typescript",children:[e(n.span,{className:"token comment",children:"// File: src/routes/product/[skuId]/index.tsx"}),`
`,e(n.span,{className:"token keyword",children:"import"})," ",e(n.span,{className:"token keyword",children:"type"})," ",e(n.span,{className:"token punctuation",children:"{"})," RequestHandler ",e(n.span,{className:"token punctuation",children:"}"})," ",e(n.span,{className:"token keyword",children:"from"})," ",e(n.span,{className:"token string",children:"'@builder.io/qwik-city'"}),e(n.span,{className:"token punctuation",children:";"}),`

`,e(n.span,{className:"token keyword",children:"type"})," ",e(n.span,{className:"token class-name",children:"EndpointData"})," ",e(n.span,{className:"token operator",children:"="})," ProductData ",e(n.span,{className:"token operator",children:"|"})," ",e(n.span,{className:"token keyword",children:"null"}),e(n.span,{className:"token punctuation",children:";"}),`

`,e(n.span,{className:"token keyword",children:"interface"})," ",e(n.span,{className:"token class-name",children:"ProductData"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
  skuId`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token builtin",children:"string"}),e(n.span,{className:"token punctuation",children:";"}),`
  price`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token builtin",children:"number"}),e(n.span,{className:"token punctuation",children:";"}),`
  description`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token builtin",children:"string"}),e(n.span,{className:"token punctuation",children:";"}),`
`,e(n.span,{className:"token punctuation",children:"}"}),`
`,e(n.span,{className:"token keyword",children:"export"})," ",e(n.span,{className:"token keyword",children:"const"})," onPut",e(n.span,{className:"token operator",children:":"})," RequestHandler",e(n.span,{className:"token operator",children:"<"}),"EndpointData",e(n.span,{className:"token operator",children:">"})," ",e(n.span,{className:"token operator",children:"="})," ",e(n.span,{className:"token keyword",children:"async"})," ",e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token punctuation",children:"{"})," url",e(n.span,{className:"token punctuation",children:","})," params",e(n.span,{className:"token punctuation",children:","})," request",e(n.span,{className:"token punctuation",children:","})," response ",e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:")"})," ",e(n.span,{className:"token operator",children:"=>"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
  `,e(n.span,{className:"token comment",children:"// put your DB access here (hard coding a response for the simplicity)"}),`

  `,e(n.span,{className:"token comment",children:"// read data from request and perform DB update."}),`
  `,e(n.span,{className:"token comment",children:"// console.log(params.skuId);"}),`
  `,e(n.span,{className:"token comment",children:"// console.log(request.method);"}),`
  `,e(n.span,{className:"token comment",children:"// console.log(url.pathname);"}),`

  `,e(n.span,{className:"token comment",children:"// set response headers"}),`
  response`,e(n.span,{className:"token punctuation",children:"."}),"headers",e(n.span,{className:"token punctuation",children:"."}),e(n.span,{className:"token function",children:"append"}),e(n.span,{className:"token punctuation",children:"("}),e(n.span,{className:"token string",children:"'Cache-Control'"}),e(n.span,{className:"token punctuation",children:","})," ",e(n.span,{className:"token string",children:"' public, max-age=86400'"}),e(n.span,{className:"token punctuation",children:")"}),e(n.span,{className:"token punctuation",children:";"}),`

  `,e(n.span,{className:"token comment",children:"// return data to be access from `useEndpoint()`"}),`
  `,e(n.span,{className:"token keyword",children:"return"})," ",e(n.span,{className:"token punctuation",children:"{"}),`
    skuId`,e(n.span,{className:"token operator",children:":"})," params",e(n.span,{className:"token punctuation",children:"."}),"skuId",e(n.span,{className:"token punctuation",children:","}),`
    price`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token number",children:"123.45"}),e(n.span,{className:"token punctuation",children:","}),`
    description`,e(n.span,{className:"token operator",children:":"})," ",e(n.span,{className:"token template-string",children:[e(n.span,{className:"token template-punctuation string",children:"`"}),e(n.span,{className:"token string",children:"Description for "}),e(n.span,{className:"token interpolation",children:[e(n.span,{className:"token interpolation-punctuation punctuation",children:"${"}),"params",e(n.span,{className:"token punctuation",children:"."}),"skuId",e(n.span,{className:"token interpolation-punctuation punctuation",children:"}"})]}),e(n.span,{className:"token template-punctuation string",children:"`"})]}),e(n.span,{className:"token punctuation",children:","}),`
  `,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:";"}),`
`,e(n.span,{className:"token punctuation",children:"}"}),e(n.span,{className:"token punctuation",children:";"}),`
`]})})]})}function r(a={}){const{wrapper:n}=a.components||{};return n?e(n,Object.assign({},a,{children:e(s,a)})):s(a)}export{r as default,l as frontmatter,i as head,o as headings};
