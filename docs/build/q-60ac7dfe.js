import{t as s}from"./q-c0df5510.js";function r(e){return e.collections.length===0?0:e.collections.reduce(function(n,t){return n+t.items.length},0)}function u(e,n,t,l){if(!t)return null;if(e<0&&(n===null||l!==null&&n===0))return t+e;var o=(n===null?-1:n)+e;return o<=-1||o>=t?l===null?null:0:o}function f(e){const t=e.collections.map(l=>l.items.length).reduce((l,o,i)=>{const c=(l[i-1]||0)+o;return l.push(c),l},[]).reduce((l,o)=>o<=e.activeItemId?l+1:l,0);return e.collections[t]}function d({state:e,collection:n}){let t=!1,l=0,o=0;for(;t===!1;){const i=e.collections[l];if(i===n){t=!0;break}o+=i.items.length,l++}return e.activeItemId-o}function I(e){const n=f(e);if(!n)return null;const t=n.items[d({state:e,collection:n})];return{item:t,itemUrl:t.url}}const p=e=>{const[n,t]=s();if(e.key==="ArrowUp"||e.key==="ArrowDown"){const l=u(e.key==="ArrowUp"?-1:1,t.state.activeItemId,r(t.state),null);if(l!==t.state.activeItemId&&(t.state.activeItemId=l,typeof document<"u")){const o=document.getElementById(`docsearch-item-${t.state.activeItemId}`);o&&(o.scrollIntoViewIfNeeded?o.scrollIntoViewIfNeeded(!1):o.scrollIntoView(!1))}}if(e.key==="Escape"&&(t.state.isOpen=!1),e.key==="Enter"){const{item:l,itemUrl:o}=I({...t.state});if(e.metaKey||e.ctrlKey){if(o!==void 0){n.onSelectItem({item:l,event:e});const i=window.open(o,"_blank","noopener");i==null||i.focus()}}else e.shiftKey?o!==void 0&&(n.onSelectItem({item:l,event:e}),window.open(o,"_blank","noopener")):e.altKey||o!==void 0&&(n.onSelectItem({item:l,event:e}),location.assign(o))}},y=e=>{var t;const[n]=s();(t=n.onInput)==null||t.call(n,e)},g=e=>{},w=e=>{var t;const[n]=s();(t=n.onInput)==null||t.call(n,e)},h=()=>{const[e]=s();e.state.query="",e.state.status="idle",e.state.activeItemId=null},V=()=>{const[e]=s();return e.onClose$.apply(null,[])};export{h as s_7hWlRs0GrdM,p as s_EhtTJVluy08,g as s_H7LftCVcX8A,w as s_IyfeKF5lnM8,y as s_Rtwief4DyrI,V as s_VSBeJXgdRvA};
